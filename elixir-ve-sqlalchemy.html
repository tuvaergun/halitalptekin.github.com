<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>{ Halit Alptekin } - Elixir Ve Sqlalchemy</title>

  <meta name="author" content="halit">

    <link href="http://www.halitalptekin.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
        title="{ Halit Alptekin } Atom Feed" />
      <link href="http://www.halitalptekin.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
        title="{ Halit Alptekin } RSS Feed" />
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="./favicon.png" rel="icon">
  <link href="./theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="./theme/js/modernizr-2.0.js"></script>
  <script src="./theme/js/ender.js"></script>
  <script src="./theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>
<body>
  <header role="banner"><hgroup>
  <h1><a href="./">{ Halit Alptekin }</a></h1>
  </hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://www.halitalptekin.com/feeds/all.atom.xml" rel="subscribe-rss">Atom</a></li>
    <li><a href="http://www.halitalptekin.com/feeds/all.rss.xml" rel="subscribe-rss">Rss</a></li>
  </ul>

<!-- TODO: add search here
<form action="" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:." />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
-->

<ul class="main-navigation">
  <li><a href="./">Blog</a></li>
        <li><a href="./pages/about-me.html">About Me</a></li>
    <li><a href="./pages/contact.html">Contact</a></li>
  <!-- TODO: add categories here? -->
  </ul></nav>
  <div id="main">
    <div id="content">
      <div>
  <article class="hentry" role="article">
    <header>
          <h1 class="entry-title">Elixir Ve Sqlalchemy</h1>
          <p class="meta"><time datetime="2012-08-18T00:00:00" pubdate>Aug 18, 2012</time></p>
</header>

  <div class="entry-content"><p>ORM kavramı benim Django ile birlikte tanıştığım ve gerçekten çok hoşuma giden bir şey.ORM ile veritabanında işleyeceğimiz sorguları sınıflar olarak tanımlıyoruz ve code generator tekniği ile bunları sql sorgusuna dokuyoruz.Tabi biz bu sırada bu sorgular ile pek ilgilenmiyoruz.Bizim ilgilendiğimiz nokta sınıfları en uygun şekilde tanımlamak.Bunun getirdiği bence çok guzel sonuçlar var.Django ORM kavramını kullanan en guzel orneklerden birisi.Turkiyede'de ORMAN adında geliştirilim guzel bir framework var.Ancak benim bugun anlatacağım ORM Elixir ve SqlAlchemy ile ilgili.Bu ikisi python ile nasıl kullanabiliriz basitçe giriş yapacağım.</p>
<p>Ben python uygulamalarımda virtualenv kullanıyorum.Çunku gerçekten dağınıklığını bir nebzede olsa onlemenizi sağlıyor.Eğer sizde bu guzel nimetten faydalanmak istiyorsanız bilgisayarınıza oncelikli olarak virtualenv yazılımını kurun.Bunun için komut satırına aşağıdaki komutu girmeniz yeterlidir.(Hangi linux dağıtımını kullanıyorsanız kullanın kesinlikle Python ile uğraşıyorsanız bilgisayarınıza pip'in kurulumunu yapınız.)</p>
<div class="codehilite"><pre><span class="n">pip</span> <span class="n">install</span> <span class="n">virtualenv</span>
</pre></div>


<p>Kurulum bittikten sonra virtualenv dizin ismi şeklinde dizinimizi oluşturuyoruz.Ve daha sonra bu dizine girerek source'u aktif ediyoruz.Ve artık normal bilgisayarınızdan bağımsız bir sanal platforma sahip oldunuz.Şimdi de gerekli yazılımımız olan elixir'i kuralım.Pip virtualenv içinde kurulu olduğu için tekrardan kurmanız gerek yok.</p>
<p><a href="http://www.halitalptekin.com/media/upload/virtualenv_pip_elixir_sql_alchemy.png"><img alt="Virtualenv Pip Elixir Sql Alchemy" src="http://www.halitalptekin.com/media/upload/virtualenv_pip_elixir_sql_alchemy.png" /></a></p>
<p>Şimdi ise işin kodlama kısmına geçiyoruz.Öncelikle veritabanımızda olacak olan tablo ve kolonları sınıf içinde tanımlamak ile başlıyoruz.</p>
<p><a href="http://www.halitalptekin.com/media/upload/elixir-sql-alchemy-model-tanimlama.png"><img alt="Elixir Sql Alchemy Model Tanımlama" src="http://www.halitalptekin.com/media/upload/elixir-sql-alchemy-model-tanimlama.png" /></a></p>
<p>Satirlari bir bir anlatmak gerekirse once gerekli modulumuzu dosyamıza ekliyoruz.Ardından bu module ait metadata.bind komutu ile kullanacağımız veritabanını seçiyoruz.Aynı komutun bir diğer ozelliği olacak echo ile de birazdan yapılacak olan sorguların ekrana basılıp basılmamasını kararlaştırıyoruz.</p>
<p>Asıl onemli olan kısım ise Siteler diye tanımladığımız Entity'den miras alan sınıf.Buranın altına veritabanımızda olmasını istediğimiz kolonları ekliyoruz.Malum tablomuz artık Siteler oldu.Kolon olarak ben baslik,site ve aciklama eklemeleri yapmışım.Burada farkettiğiniz gibi baslik kolonuna 30 hanelik bir sınır getirmişim.Bu kolona 30 haneden fazla veri girişi yapamayız.Ardından site kolonuna da baslik ile aynı ancak sınırlama olmaksızın kolon ataması yapmışız.En altta da aciklama kolonunu text olarak kullanacağımızı belirtmişiz.</p>
<p>Daha sonrada bir nevi gereklilik olan <strong>repr</strong> fonksiyonumuzu uygun bir şekilde tanımlıyoruz.</p>
<p>Butun bunların ardından veritabanına oluşacak olanlar buyuk oranda tamamlandı.Şimdi sıra bunları işlemeye ve tabloları oluşturmaya geldi.Yukarıdaki koda <a href="https://gist.github.com/3386356">buradan</a> ulaşabilirsiniz.</p>
<p>Şimdi de yukarıdaki modelimizi uygun bir şekilde işleyelim.Bunun için ben veri adında yeni bir dosya açtım.(Aşağıdaki resme tıklarsanız tam boyutlu olarak daha net gorebilirsiniz)</p>
<p><a href="http://www.halitalptekin.com/media/upload/elixir-sql-alchemy-veri-isleme.png"><img alt="Elixir Sql Alchemy Veri Isleme" src="http://www.halitalptekin.com/media/upload/elixir-sql-alchemy-veri-isleme.png" /></a></p>
<p>veri.py kodumuza bakarsanız oncelikli olarak az once oluşturduğumuz model dosyamızı ekliyoruz.Daha sonra gerekli olan kurulum ve oluşturmaları yapıyoruz.Butun bunlardan sonra dbmiz veri eklemek için hazır.Şimdi gorduğunuz gibi model.py dosyamızda oluşturduğumuz sınıf Siteler artık bir tablo oldu.Ve ona resimdeki gibi veri girişi yapabiliyoruz.</p>
<p>Kayit eklemelerin ardından all() fonksiyonu kullanarak tum kayıtları bir listeye atayabiliyoruz.Ve bu listeyi Python kullananların aşina olduğu teknik ile ekrana basıyoruz.Eğer kodumuz bu kadar olsaydı çalıştırdığınızda ekranınızda aşağıdaki gibi bir goruntu elde edeceksiniz.</p>
<div class="codehilite"><pre><span class="o">--------------------</span>
<span class="n">Halit</span> <span class="n">Alptekin</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">halitalptekin</span><span class="o">.</span><span class="n">com</span>
<span class="n">Halit</span> <span class="n">Alptekin</span> <span class="n">Personal</span> <span class="n">Blog</span>
<span class="o">--------------------</span>
<span class="o">--------------------</span>
<span class="n">Google</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span>
<span class="n">Arama</span> <span class="n">Motoru</span>
<span class="o">--------------------</span>
</pre></div>


<p>Daha sonra kodumuzda gorduğunuz bir diğer kısımda kayıtlar arasında arama yapma.Burada başlığı "Halit Alptekin" e eşit olan kayitları tek değişkende topluyoruz.Ve bu kayıtlardan ilkini kayit değişkenine atıyoruz.Daha sonra bu değişkeni gene her zamanki gibi uygun bir şekilde ekrana basıyoruz.</p>
<p>Biraz aşağıda ise bu bulduğumuz kayiti nasil sileceğimiz yer alıyor.Gayet basit bir şekilde delete() fonksiyonunu çağırarak kaydimizi siliyoruz ve bunu son satırdaki komut ile işliyoruz.Yukarıda yer alan koda <a href="https://gist.github.com/3386393">buradan</a> ulaşabilirsiniz.</p>
<p>Python ile SqlAlchemy Elixir kullanmak işte yukarıda gorduğunuz kadar basit.Ben bu olayı kavradıktan sonra veritabanı gerektiren tum işlerimde kullanmaya başladım.Ve gerçekten de çok fazla faydasını goruyorum.(Sadece Sqlite değil mysql,postgresql vb diğer veritabanlarını da destekliyor)</p>
<p>Eğer sizde bu konulara ilgi duyduysanız <a href="http://elixir.ematia.de/trac/">Elixir</a> ve <a href="http://sqlalchemy.org">SqlAlchemy</a> sitelerine giderek araştırmaya başlayabilirsiniz.Benim anlattıklarım başlangıç aşamasının da çok kuçuk bir kısmı.Ancak olayın temeli denilebilir.</p></div>
    <footer>
      <p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">halit</span>
  </span>
  <time datetime="2012-08-18T00:00:00" pubdate>Aug 18, 2012</time>    <span class="categories">
        <a class="category" href="./tag/elixir.html">elixir</a>
        <a class="category" href="./tag/elixir-kullanimi.html">elixir kullanımı</a>
        <a class="category" href="./tag/orm.html">orm</a>
        <a class="category" href="./tag/orm-nedir.html">orm nedir</a>
        <a class="category" href="./tag/sqlalchemy.html">sqlalchemy</a>
        <a class="category" href="./tag/sql-alchemy.html">sql alchemy</a>
      </span>
  </p>    </footer>
  </article>

    <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
  </div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
            <li class="post">
          <a href="./uzun-bir-aradan-sonra.html">Uzun bir aradan sonra</a>
      </li>
            <li class="post">
          <a href="./the-seven-rules-of-technical-writing.html">The Seven Rules Of Technical Writing</a>
      </li>
            <li class="post">
          <a href="./gizli-medya-dosyalarini-bulma.html">Gizli Medya Dosyalarını Bulma</a>
      </li>
            <li class="post">
          <a href="./floating-point-numbers.html">Floating Point Numbers</a>
      </li>
            <li class="post">
          <a href="./djangodan-pelicana.html">Django'dan Pelicana</a>
      </li>
          </ul>
  </section>
    <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
              <li><a href="./category/tasarim.html">tasarim</a></li>
              <li><a href="./category/server.html">server</a></li>
              <li><a href="./category/python.html">python</a></li>
              <li><a href="./category/programlama.html">programlama</a></li>
              <li><a href="./category/linux.html">linux</a></li>
              <li><a href="./category/kisisel.html">kisisel</a></li>
              <li><a href="./category/internet.html">internet</a></li>
              <li><a href="./category/guvenlik.html">guvenlik</a></li>
              <li><a href="./category/genel.html">genel</a></li>
              <li><a href="./category/eglence.html">eglence</a></li>
              <li><a href="./category/django.html">django</a></li>
              <li><a href="./category/compsci.html">compsci</a></li>
              <li><a href="./category/arduino.html">arduino</a></li>
          </ul>
  </section>
   

    
    <section>
        <h1>Social</h1>
        <ul>
            <li><a href="http://www.halitalptekin.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">rss</a></li>
                    <li><a href="http://twitter.com/halitalptekin" target="_blank">twitter</a></li>
                    <li><a href="http://github.com/halitalptekin" target="_blank">github</a></li>
                    <li><a href="http://stackoverflow.com/users/1151618/halit-alptekin" target="_blank">stackoverflow</a></li>
                    <li><a href="http://tr.linkedin.com/in/halitalptekin" target="_blank">linkedin</a></li>
                </ul>
    </section>
      <section>
        <h1>Blogroll</h1>
        <ul>
                    <li><a href="http://www.python.org" target="_blank">Python</a></li>
                </ul>
    </section>

      <section>
        <h1>Ads</h1>
        <ul id="recent_posts">
                            <li><a href="https://www.camekan.com/adwords/" title="Google Adwords"><img src="/media/reklam/camekancom.jpg" alt="Google Adwords" title="Google Adwords"></a></li>
                            <li><a href="http://www.dugunajans.com/" title="düğün fotoğrafçısı"><img src="/media/reklam/dugunajanscom.jpg" alt="düğün fotoğrafçısı" title="düğün fotoğrafçısı"></a></li>
                    </ul>
    </section>
  
</aside>      <aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
            <li class="post">
          <a href="./uzun-bir-aradan-sonra.html">Uzun bir aradan sonra</a>
      </li>
            <li class="post">
          <a href="./the-seven-rules-of-technical-writing.html">The Seven Rules Of Technical Writing</a>
      </li>
            <li class="post">
          <a href="./gizli-medya-dosyalarini-bulma.html">Gizli Medya Dosyalarını Bulma</a>
      </li>
            <li class="post">
          <a href="./floating-point-numbers.html">Floating Point Numbers</a>
      </li>
            <li class="post">
          <a href="./djangodan-pelicana.html">Django'dan Pelicana</a>
      </li>
          </ul>
  </section>
    <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
              <li><a href="./category/tasarim.html">tasarim</a></li>
              <li><a href="./category/server.html">server</a></li>
              <li><a href="./category/python.html">python</a></li>
              <li><a href="./category/programlama.html">programlama</a></li>
              <li><a href="./category/linux.html">linux</a></li>
              <li><a href="./category/kisisel.html">kisisel</a></li>
              <li><a href="./category/internet.html">internet</a></li>
              <li><a href="./category/guvenlik.html">guvenlik</a></li>
              <li><a href="./category/genel.html">genel</a></li>
              <li><a href="./category/eglence.html">eglence</a></li>
              <li><a href="./category/django.html">django</a></li>
              <li><a href="./category/compsci.html">compsci</a></li>
              <li><a href="./category/arduino.html">arduino</a></li>
          </ul>
  </section>
   

    
    <section>
        <h1>Social</h1>
        <ul>
            <li><a href="http://www.halitalptekin.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">rss</a></li>
                    <li><a href="http://twitter.com/halitalptekin" target="_blank">twitter</a></li>
                    <li><a href="http://github.com/halitalptekin" target="_blank">github</a></li>
                    <li><a href="http://stackoverflow.com/users/1151618/halit-alptekin" target="_blank">stackoverflow</a></li>
                    <li><a href="http://tr.linkedin.com/in/halitalptekin" target="_blank">linkedin</a></li>
                </ul>
    </section>
      <section>
        <h1>Blogroll</h1>
        <ul>
                    <li><a href="http://www.python.org" target="_blank">Python</a></li>
                </ul>
    </section>

      <section>
        <h1>Ads</h1>
        <ul id="recent_posts">
                            <li><a href="https://www.camekan.com/adwords/" title="Google Adwords"><img src="/media/reklam/camekancom.jpg" alt="Google Adwords" title="Google Adwords"></a></li>
                            <li><a href="http://www.dugunajans.com/" title="düğün fotoğrafçısı"><img src="/media/reklam/dugunajanscom.jpg" alt="düğün fotoğrafçısı" title="düğün fotoğrafçısı"></a></li>
                    </ul>
    </section>
  
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - halit -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
      <script type="text/javascript">
	    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
	    try {
	        var pageTracker = _gat._getTracker("UA-24728900-1");
	    pageTracker._trackPageview();
	    } catch(err) {}
	</script>
	<script type="text/javascript">
	  var disqus_shortname = 'halitalptekin';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>